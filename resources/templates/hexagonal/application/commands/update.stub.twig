{#
  Stub: Application command to update an entity
  Variables:
    - namespaces.commands
    - domain.repositories
    - domain.models
    - naming.entity_studly
    - naming.entity_variable
#}
<?php

namespace {{ namespaces.commands|default('App\\Application\\Commands') }};

use {{ domain.repositories|default('App\\Domain\\Repositories') }}\{{ naming.entity_studly|default('Sample') }}RepositoryInterface;
use {{ domain.models|default('App\\Domain\\Models') }}\{{ naming.entity_studly|default('Sample') }};

class Update{{ naming.entity_studly|default('Sample') }}Command
{
    public function __construct(private readonly {{ naming.entity_studly|default('Sample') }}RepositoryInterface $repository)
    {
    }

    /**
     * @param array<string, mixed> $payload
     */
    public function handle({{ naming.entity_studly|default('Sample') }} ${{ naming.entity_variable|default('sample') }}, array $payload): {{ naming.entity_studly|default('Sample') }}
    {
        // TODO: validar cambios antes de delegar al repositorio
        return $this->repository->update(${{ naming.entity_variable|default('sample') }}, $payload);
    }
}
